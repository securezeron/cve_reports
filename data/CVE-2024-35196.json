{"id": "CVE-2024-35196", "sourceIdentifier": "security-advisories@github.com", "published": "2024-05-31T18:15:12.993", "lastModified": "2024-05-31T19:14:47.793", "vulnStatus": "Awaiting Analysis", "cveTags": [], "descriptions": [{"lang": "en", "value": "Sentry is a developer-first error tracking and performance monitoring platform. Sentry's Slack integration incorrectly records the incoming request body in logs. This request data can contain sensitive information, including the deprecated Slack verification token. With this verification token, it is possible under specific configurations, an attacker can forge requests and act as the Slack integration. The request body is leaked in log entries matching `event == \"slack.*\" && name == \"sentry.integrations.slack\" && request_data == *`. The deprecated slack verification token, will be found in the `request_data.token` key. **SaaS users** do not need to take any action. **Self-hosted users** should upgrade to version 24.5.0 or higher, rotate their Slack verification token, and use the Slack Signing Secret instead of the verification token. For users only using the `slack.signing-secret` in their self-hosted configuration, the legacy verification token is not used to verify the webhook payload. It is ignored. Users unable to upgrade should either set the `slack.signing-secret` instead of `slack.verification-token`. The signing secret is Slack's recommended way of authenticating webhooks. By having `slack.singing-secret` set, Sentry self-hosted will no longer use the verification token for authentication of the webhooks, regardless of whether `slack.verification-token` is set or not. Alternatively if the self-hosted instance is unable to be upgraded or re-configured to use the `slack.signing-secret`, the logging configuration can be adjusted to not generate logs from the integration. The default logging configuration can be found in `src/sentry/conf/server.py`. **Services should be restarted once the configuration change is saved.**\n"}, {"lang": "es", "value": "Sentry es una plataforma de seguimiento de errores y supervisi\u00f3n del rendimiento orientada a los desarrolladores. La integraci\u00f3n de Sentry con Slack registra incorrectamente el cuerpo de la solicitud entrante en los registros. Los datos de esta solicitud pueden contener informaci\u00f3n confidencial, incluido el token de verificaci\u00f3n de Slack obsoleto. Con este token de verificaci\u00f3n, es posible que, en configuraciones espec\u00edficas, un atacante pueda falsificar solicitudes y actuar como integraci\u00f3n de Slack. El cuerpo de la solicitud se filtra en las entradas del registro que coinciden con `event == \"slack.*\" &amp;&amp; name == \"sentry.integrations.slack\" &amp;&amp; request_data == *`. El token de verificaci\u00f3n de holgura obsoleto se encontrar\u00e1 en la clave `request_data.token`. **Los usuarios de SaaS** no necesitan realizar ninguna acci\u00f3n. **Los usuarios autohospedados** deben actualizar a la versi\u00f3n 24.5.0 o superior, rotar su token de verificaci\u00f3n de Slack y usar el secreto de firma de Slack en lugar del token de verificaci\u00f3n. Para los usuarios que solo usan `slack.signing-secret` en su configuraci\u00f3n autohospedada, el token de verificaci\u00f3n heredado no se usa para verificar la carga \u00fatil del webhook. Se ignora. Los usuarios que no puedan actualizar deben configurar `slack.signing-secret` en lugar de `slack.verification-token`. El secreto de firma es la forma recomendada por Slack de autenticar webhooks. Al tener configurado `slack.singing-secret`, Sentry autohospedado ya no usar\u00e1 el token de verificaci\u00f3n para la autenticaci\u00f3n de los webhooks, independientemente de si `slack.verification-token` est\u00e1 configurado o no. Alternativamente, si la instancia autohospedada no se puede actualizar o reconfigurar para usar `slack.signing-secret`, la configuraci\u00f3n de registro se puede ajustar para no generar registros de la integraci\u00f3n. La configuraci\u00f3n de registro predeterminada se puede encontrar en `src/sentry/conf/server.py`. **Los servicios deben reiniciarse una vez que se guarda el cambio de configuraci\u00f3n.**"}], "metrics": {"cvssMetricV31": [{"source": "security-advisories@github.com", "type": "Secondary", "cvssData": {"version": "3.1", "vectorString": "CVSS:3.1/AV:N/AC:H/PR:H/UI:R/S:U/C:L/I:N/A:N", "attackVector": "NETWORK", "attackComplexity": "HIGH", "privilegesRequired": "HIGH", "userInteraction": "REQUIRED", "scope": "UNCHANGED", "confidentialityImpact": "LOW", "integrityImpact": "NONE", "availabilityImpact": "NONE", "baseScore": 2.0, "baseSeverity": "LOW"}, "exploitabilityScore": 0.5, "impactScore": 1.4}]}, "weaknesses": [{"source": "security-advisories@github.com", "type": "Secondary", "description": [{"lang": "en", "value": "CWE-532"}]}], "references": [{"url": "https://api.slack.com/authentication/verifying-requests-from-slack#app-management-updates", "source": "security-advisories@github.com"}, {"url": "https://api.slack.com/authentication/verifying-requests-from-slack#deprecation", "source": "security-advisories@github.com"}, {"url": "https://api.slack.com/authentication/verifying-requests-from-slack#regenerating", "source": "security-advisories@github.com"}, {"url": "https://develop.sentry.dev/integrations/slack", "source": "security-advisories@github.com"}, {"url": "https://github.com/getsentry/sentry/blob/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf/server.py#L1307", "source": "security-advisories@github.com"}, {"url": "https://github.com/getsentry/sentry/pull/70508", "source": "security-advisories@github.com"}, {"url": "https://github.com/getsentry/sentry/security/advisories/GHSA-c2g2-gx4j-rj3j", "source": "security-advisories@github.com"}], "techniques": [{"techniqueID": "T1027.005", "comment": "CVE-2024-35196 - An attacker could potentially use this vulnerability to exfiltrate sensitive Slack verification tokens, leading to unauthorized access and escalation of privileges."}, {"techniqueID": "T1190", "comment": "CVE-2024-35196 - An attacker could potentially use this vulnerability to send forged requests to Slack webhooks, impersonating the Sentry integration, leading to unauthorized access and data exfiltration."}, {"techniqueID": "T1438", "comment": "CVE-2024-35196 - An attacker could potentially use this vulnerability to inject malicious data into logs, leading to data tampering and potential data exfiltration."}], "stix_bundle": {"_type": "bundle", "_spec_version": "2.1", "type": "bundle", "id": "bundle--<bundle-id>", "created_by_ref": "user--<user-id>", "created": "2024-05-31T18:15:12.993", "modified": "2024-05-31T19:14:47.793", "name": "CVE-2024-35196 Bundle", "description": "A bundle containing the relevant information for CVE-2024-35196.", "objects": [{"_type": "vulnerability", "_spec_version": "2.1", "type": "vulnerability", "id": "vulnerability--<vulnerability-id>", "created_by_ref": "user--<user-id>", "created": "2024-05-31T18:15:12.993", "modified": "2024-05-31T19:14:47.793", "name": "CVE-2024-35196", "description": {"description_value": "Sentry is a developer-first error tracking and performance monitoring platform. Sentry's Slack integration incorrectly records the incoming request body in logs. This request data can contain sensitive information, including the deprecated Slack verification token."}, "cvssv3": {"score": 2.0, "vectorString": "CVSS:3.1/AV:N/AC:H/PR:H/UI:R/S:U/C:L/I:N/A:N"}, "references": [{"reference_data_group_idref": "reference--<reference-id>", "url": "https://api.slack.com/authentication/verifying-requests-from-slack#app-management-updates"}, {"reference_data_group_idref": "reference--<reference-id>", "url": "https://api.slack.com/authentication/verifying-requests-from-slack#deprecation"}, {"reference_data_group_idref": "reference--<reference-id>", "url": "https://api.slack.com/authentication/verifying-requests-from-slack#regenerating"}, {"reference_data_group_idref": "reference--<reference-id>", "url": "https://develop.sentry.dev/integrations/slack"}, {"reference_data_group_idref": "reference--<reference-id>", "url": "https://github.com/getsentry/sentry/blob/17d2b87e39ccd57e11da4deed62971ff306253d1/src/sentry/conf/server.py#L1307"}, {"reference_data_group_idref": "reference--<reference-id>", "url": "https://github.com/getsentry/sentry/pull/70508"}, {"reference_data_group_idref": "reference--<reference-id>", "url": "https://github.com/getsentry/sentry/security/advisories/GHSA-c2g2-gx4j-rj3j"}], " weaknesses": [{"description": "CWE-532", "Weakness_Data": {"Weakness_ID": "CWE-532", "Weakness_Name": "Heap-based buffer overflow"}}]}, {"_type": "course-of-action", "_spec_version": "2.1", "type": "course-of-action", "id": "course-of-action--<course-of-action-id>", "created_by_ref": "user--<user-id>", "created": "2024-05-31T18:15:12.993", "modified": "2024-05-31T19:14:47.793", "name": "Update to version 24.5.0 or higher", "description": "Update Sentry to version 24.5.0 or higher to mitigate the vulnerability.", " mitigates": [{"technique_ref": "technique--<technique-id>", "technique_id": "T1027.005"}]}]}, "technical_analysis": {"Introduction": "Sentry is a developer-first error tracking and performance monitoring platform. CVE-2024-35196 is a vulnerability in Sentry's Slack integration that allows an attacker to potentially exfiltrate sensitive Slack verification tokens.", "Impact and Scope": "The vulnerability has a CVSS score of 2.0 and is classified as LOW. It affects all versions of Sentry prior to 24.5.0.", "Related MITRE ATT&CK Techniques": "The vulnerability is associated with techniques T1027.005, T1190, and T1438.", "Technical Details": "The vulnerability is caused by an incorrect logging configuration in the Sentry Slack integration, which allows an attacker to potentially access sensitive information.", "Detection": "Detection of this vulnerability is challenging, as it relies on detecting the incorrect logging configuration.", "Mitigation": "The recommended mitigation is to update to version 24.5.0 or higher and configure the Slack verification token.", "Conclusion": "CVE-2024-35196 is a moderate-risk vulnerability that affects all versions of Sentry prior to 24.5.0."}, "executive_analysis": {"Overview": "CVE-2024-35196 is a vulnerability in Sentry's Slack integration that could potentially allow an attacker to access sensitive information.", "Business Impact": "The vulnerability has the potential to impact businesses by allowing unauthorized access to sensitive information.", "Technical Impact": "The vulnerability has a technical impact on security, as it allows an attacker to potentially access sensitive information.", "Mitigation Strategies": "The recommended mitigation strategy is to update to version 24.5.0 or higher and configure the Slack verification token.", "Recommendations": "Recommendations for executives include regularly updating software, implementing robust logging configurations, and monitoring for suspicious activity.", "Conclusions": "In conclusion, CVE-2024-35196 is a vulnerability in Sentry's Slack integration that requires immediate attention, and executives should take steps to mitigate the risk."}}